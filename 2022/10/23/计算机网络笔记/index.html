<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.2">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="简介这里记录了笔者学习《计算机网络：自顶向下方法》和编者的教学资料的一些笔记。由于英文授课及部分翻译较拗口的原因，大部分内容将用英文书写。 Chapter 2  Appication layer application architecture  client-server server: always-on host, permanent IP address, often in data ce">
<meta property="og:type" content="article">
<meta property="og:title" content="计算机网络笔记">
<meta property="og:url" content="http://example.com/2022/10/23/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0/index.html">
<meta property="og:site_name" content="Coriiiander&#39;blog">
<meta property="og:description" content="简介这里记录了笔者学习《计算机网络：自顶向下方法》和编者的教学资料的一些笔记。由于英文授课及部分翻译较拗口的原因，大部分内容将用英文书写。 Chapter 2  Appication layer application architecture  client-server server: always-on host, permanent IP address, often in data ce">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="d:/blog/coriiiander/source/_posts/pictures/socket.jpg">
<meta property="og:image" content="d:/blog/coriiiander/source/_posts/pictures/UDPsocket3.png">
<meta property="og:image" content="d:/blog/coriiiander/source/_posts/pictures/UDPsocket.png">
<meta property="og:image" content="d:/blog/coriiiander/source/_posts/pictures/UDPsocket2.png">
<meta property="og:image" content="d:/blog/coriiiander/source/_posts/pictures/TCPsocket.jpg">
<meta property="og:image" content="d:/blog/coriiiander/source/_posts/pictures/TCPsocket1.png">
<meta property="og:image" content="d:/blog/coriiiander/source/_posts/pictures/TCPsocket2.png">
<meta property="og:image" content="d:/blog/coriiiander/source/_posts/pictures/non-persistentHTTP.jpg">
<meta property="og:image" content="d:/blog/coriiiander/source/_posts/pictures/HTTPrqmsg1.jpg">
<meta property="og:image" content="d:/blog/coriiiander/source/_posts/pictures/HTTPrqmsg2.jpg">
<meta property="og:image" content="d:/blog/coriiiander/source/_posts/pictures/HTTPrpmsg1.jpg">
<meta property="og:image" content="d:/blog/coriiiander/source/_posts/pictures/cookie.png">
<meta property="og:image" content="d:/blog/coriiiander/source/_posts/pictures/conditionalGET.png">
<meta property="og:image" content="d:/blog/coriiiander/source/_posts/pictures/SMTP.png">
<meta property="og:image" content="d:/blog/coriiiander/source/_posts/pictures/DNS1.png">
<meta property="og:image" content="d:/blog/coriiiander/source/_posts/pictures/DNS2.jpg">
<meta property="og:image" content="d:/blog/coriiiander/source/_posts/pictures/DNS3.png">
<meta property="og:image" content="d:/blog/coriiiander/source/_posts/pictures/DNS4.png">
<meta property="og:image" content="d:/blog/coriiiander/source/_posts/pictures/UDPformat.png">
<meta property="og:image" content="d:/blog/coriiiander/source/_posts/pictures/rdtinterface.png">
<meta property="og:image" content="d:/blog/coriiiander/source/_posts/pictures/rdt1.0.png">
<meta property="og:image" content="d:/blog/coriiiander/source/_posts/pictures/rdt2.0sender.png">
<meta property="og:image" content="d:/blog/coriiiander/source/_posts/pictures/rdt2.0receiver.png">
<meta property="og:image" content="d:/blog/coriiiander/source/_posts/pictures/routerArchi.png">
<meta property="og:image" content="d:/blog/coriiiander/source/_posts/pictures/inputPort.png">
<meta property="og:image" content="d:/blog/coriiiander/source/_posts/pictures/swichingFabrics.png">
<meta property="og:image" content="d:/blog/coriiiander/source/_posts/pictures/3types.png">
<meta property="og:image" content="d:/blog/coriiiander/source/_posts/pictures/HOL.png">
<meta property="og:image" content="d:/blog/coriiiander/source/_posts/pictures/ipv4.png">
<meta property="og:image" content="d:/blog/coriiiander/source/_posts/pictures/ispip.png">
<meta property="og:image" content="d:/blog/coriiiander/source/_posts/pictures/DHCP.png">
<meta property="og:image" content="d:/blog/coriiiander/source/_posts/pictures/NAT.png">
<meta property="og:image" content="d:/blog/coriiiander/source/_posts/pictures/IPv6.png">
<meta property="og:image" content="d:/blog/coriiiander/source/_posts/pictures/ipv46.png">
<meta property="og:image" content="d:/blog/coriiiander/source/_posts/pictures/openflow.png">
<meta property="og:image" content="d:/blog/coriiiander/source/_posts/pictures/traditional.png">
<meta property="og:image" content="d:/blog/coriiiander/source/_posts/pictures/sdn.png">
<meta property="og:image" content="d:/blog/coriiiander/source/_posts/pictures/distribute.png">
<meta property="og:image" content="d:/blog/coriiiander/source/_posts/pictures/componentsOfSDN.png">
<meta property="og:image" content="d:/blog/coriiiander/source/_posts/pictures/componentOfcontroller.png">
<meta property="og:image" content="d:/blog/coriiiander/source/_posts/pictures/componentOfnetwork.png">
<meta property="og:image" content="d:/blog/coriiiander/source/_posts/pictures/networkAdapter.png">
<meta property="article:published_time" content="2022-10-22T16:45:57.726Z">
<meta property="article:modified_time" content="2022-11-16T06:50:16.428Z">
<meta property="article:author" content="六月二十日香菜">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="d:/blog/coriiiander/source/_posts/pictures/socket.jpg">

<link rel="canonical" href="http://example.com/2022/10/23/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>计算机网络笔记 | Coriiiander'blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="alternate" href="/atom.xml" title="Coriiiander'blog" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Coriiiander'blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/10/23/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/author.jpg">
      <meta itemprop="name" content="六月二十日香菜">
      <meta itemprop="description" content="凡是过往，皆为序章">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Coriiiander'blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          计算机网络笔记
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-10-23 00:45:57" itemprop="dateCreated datePublished" datetime="2022-10-23T00:45:57+08:00">2022-10-23</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-11-16 14:50:16" itemprop="dateModified" datetime="2022-11-16T14:50:16+08:00">2022-11-16</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h4 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h4><p>这里记录了笔者学习《计算机网络：自顶向下方法》和编者的<a target="_blank" rel="noopener" href="https://gaia.cs.umass.edu/kurose_ross/lectures.php">教学资料</a>的一些笔记。由于英文授课及部分翻译较拗口的原因，大部分内容将用英文书写。</p>
<h4 id="Chapter-2-Appication-layer"><a href="#Chapter-2-Appication-layer" class="headerlink" title="Chapter 2  Appication layer"></a>Chapter 2  Appication layer</h4><ul>
<li><p>application architecture</p>
<ul>
<li>client-server<ul>
<li>server: always-on host, permanent IP address, often in data centers for scaling.</li>
<li>clients: communicate with server, intermittently connected, may have dynamic IP addresses, not communicate directly with each other.</li>
</ul>
</li>
<li>peer-to-peer <ul>
<li>arbitrary end systems directly communicate, intermittently connected and dynamic IP addresses. each other’s server and clients.</li>
<li>complex management</li>
</ul>
</li>
</ul>
</li>
<li><p>addressing processes（进程寻址）</p>
<ul>
<li>IP address &amp; port numbers</li>
<li>port numbers: 80 - HTTP, 25 - mail, 53 - DNS.</li>
</ul>
</li>
<li><p>transport protocols services</p>
<ul>
<li><p>TCP service</p>
<ul>
<li>reliable transport</li>
<li>flow control: sender won’t overwhelm rcver</li>
<li>congestion control: throttle sender when overloaded</li>
<li>connection-oriented: setup required </li>
<li>does not provide: timing（定时）, minthroughtput guarantee, security</li>
</ul>
</li>
<li><p>UDP service</p>
<ul>
<li>unreliable data transfer and does not provide all things mentioned above</li>
</ul>
<blockquote>
<p>existence significance: we can build additional services in the app layer.</p>
</blockquote>
</li>
<li><p>TLS - Transport Layer Security</p>
<ul>
<li>vanilla TCP &amp; UDP sockets: no encryption &amp; cleartext</li>
<li>encrypted TCP connections &amp; end-point authentication</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>socket</strong></p>
<ul>
<li>(only)application progamming interface down to the transport layer, process sends/recv msg to/from its socket.</li>
</ul>
<img src="D:\blog\coriiiander\source\_posts\pictures\socket.jpg" alt="socket" style="zoom:70%;" />

<ul>
<li>UDP</li>
</ul>
<img src="D:\blog\coriiiander\source\_posts\pictures\UDPsocket3.png" alt="UDPsocket3" style="zoom:60%;" />

<img src="D:\blog\coriiiander\source\_posts\pictures\UDPsocket.png" alt="UDPsocket" style="zoom:60%;" />

<img src="D:\blog\coriiiander\source\_posts\pictures\UDPsocket2.png" alt="UDPsocket2" style="zoom:60%;" />

<ul>
<li><p>TCP</p>
<ul>
<li>server process must first be running</li>
<li>server: 1th.welcoming(listening) socket → 2nd.connection socket</li>
<li>server is allowed to talk with multiple clients</li>
</ul>
<img src="D:\blog\coriiiander\source\_posts\pictures\TCPsocket.jpg" alt="TCPsocket" style="zoom:60%;" /></li>
</ul>
<img src="D:\blog\coriiiander\source\_posts\pictures\TCPsocket1.png" alt="TCPsocket1" style="zoom:60%;" />

<img src="D:\blog\coriiiander\source\_posts\pictures\TCPsocket2.png" alt="TCPsocket2" style="zoom:60%;" /></li>
<li><p>HTTP - hypertext transfer protocol</p>
<ul>
<li><p>stateless protocol: server maintains no info about past client requests. </p>
<blockquote>
<p>stateful: if crashes happened, states would be inconsistent and need reconciling. complex.</p>
<p>how: at endpoints/in msg.</p>
</blockquote>
</li>
<li><p>non-persistent HTTP（非持续连接）</p>
<ul>
<li><p>at most one object sent over TCP connection</p>
</li>
<li><p>response time = 2*RTT + file transmission time</p>
</li>
<li><p>issues</p>
<ol>
<li><p>2 RTTs per object</p>
</li>
<li><p>OS overhead for each TCP connection</p>
</li>
<li><p>open multiple parallel TCP connections(downloading multiple objects requires multiple connections)</p>
</li>
</ol>
</li>
</ul>
<img src="D:\blog\coriiiander\source\_posts\pictures\non-persistentHTTP.jpg" alt="non-persistentHTTP" style="zoom:70%;" /></li>
<li><p>persistent HTTP(more used, HTTP 1.1)</p>
<ul>
<li>server leaves connection open after sending response</li>
<li>multiple objects can be sent over single TCP connection</li>
<li>one RTT reduced</li>
</ul>
</li>
<li><p>HTTP msg</p>
<ul>
<li><p>request msg</p>
<blockquote>
<p>methods: POST GET HEAD PUT</p>
</blockquote>
<img src="D:\blog\coriiiander\source\_posts\pictures\HTTPrqmsg1.jpg" alt="HTTPrqmsg1" style="zoom:67%;" />

<img src="D:\blog\coriiiander\source\_posts\pictures\HTTPrqmsg2.jpg" alt="HTTPrqmsg2" style="zoom:67%;" /></li>
<li><p>response msg</p>
<p>◽ response status codes</p>
<ol>
<li>200 OK: succeeded</li>
<li>301 moved permanently: moved and new location specified in this msg</li>
<li>400 bad request: request msg not understood by server</li>
<li>505 HTTP version not supported<img src="D:\blog\coriiiander\source\_posts\pictures\HTTPrpmsg1.jpg" alt="HTTPrpmsg1" style="zoom:67%;" /></li>
</ol>
</li>
</ul>
</li>
</ul>
</li>
<li><p>cookies</p>
<ul>
<li><p>maintain some states between transactions</p>
</li>
<li><p>4 components: ①cookie header line of HTTP response message ②cookie header line in next HTTP request message ③cookie file kept on user’s host, managed by user’s browser ④back-end database at Web site</p>
</li>
</ul>
<blockquote>
<p>example: vivi visits a e-commerce site for first time.When initial HTTP requests arrives at site, site creates: unique ID (aka “cookie”) &amp; entry in backend database for ID.Subsequent HTTP requests will contain cookie ID value to identify vivi. </p>
<p>privacy: after explicit consent.</p>
</blockquote>
</li>
</ul>
<img src="D:\blog\coriiiander\source\_posts\pictures\cookie.png" alt="cookie" style="zoom:67%;" />

<ul>
<li>web caches(aka proxy servers)<ul>
<li>satisfy requests without involving origin server</li>
<li>conditional GET: don’t send object if cache has up-to-date cached version</li>
</ul>
</li>
</ul>
<img src="D:\blog\coriiiander\source\_posts\pictures\conditionalGET.png" alt="conditionalGET" style="zoom:67%;" />

<ul>
<li><p>HTTP 2 &amp; 3</p>
<blockquote>
<p>HTTP 1.1: With FCFS, small object may wait for head-of-line (HOL) blocking. Loss recovery stalls.</p>
</blockquote>
<ul>
<li>HTTP 2: Client-specified transmission order(not FCFS). Push unrequested objects beforehand. Divide objects into frames to mitig ate HOL blocking.</li>
<li>HTTP 3: add security and congestion control (more pipelining) over UDP.</li>
</ul>
</li>
<li><p>SMTP(Simple Mail Transfer Protocol)</p>
<ul>
<li>user agent —-SMTP—→ A‘s mail server —-TCP—→ B’s mail server —-SMTP—→ user agent</li>
<li>persistent connections, multiple msg can be sent over a single smtp connection.</li>
</ul>
<blockquote>
<p>IMAP：the same server.</p>
</blockquote>
<img src="D:\blog\coriiiander\source\_posts\pictures\SMTP.png" alt="SMTP" style="zoom:60%;" /></li>
<li><p>DNS(Domain Name System)</p>
<ul>
<li>hierarchy</li>
</ul>
<img src="D:\blog\coriiiander\source\_posts\pictures\DNS1.png" alt="DNS1" style="zoom:67%;" />

<ul>
<li><p>name resolution</p>
<ul>
<li>iterated query</li>
</ul>
<img src="D:\blog\coriiiander\source\_posts\pictures\DNS2.jpg" alt="DNS2" style="zoom:55%;" />

<ul>
<li>recursive query</li>
</ul>
<img src="D:\blog\coriiiander\source\_posts\pictures\DNS3.png" alt="DNS3" style="zoom:65%;" /></li>
<li><p>msg format</p>
<ul>
<li>DNS records: (name, value, type, ttl) type=A, NS, CNAME, MX.</li>
</ul>
<img src="D:\blog\coriiiander\source\_posts\pictures\DNS4.png" alt="DNS4" style="zoom:67%;" /></li>
</ul>
</li>
<li><p>video streaming</p>
<ul>
<li>image coding redundancy: spatial - send only color value &amp; num of repeated values instead of sending N values of same color. temporal - send only diffs instead of complete one. </li>
<li>playout buffering: jitter; DASH(Dynamic, Adaptive Streaming over HTTP): clients can choose different coding rates.</li>
</ul>
</li>
<li><p>CDN(Content distribution networks)</p>
<blockquote>
<p>OTT: internet host-host communication as a service(netflix).</p>
</blockquote>
</li>
</ul>
<h4 id="Chapter-3-Transport-layer"><a href="#Chapter-3-Transport-layer" class="headerlink" title="Chapter 3 Transport layer"></a>Chapter 3 Transport layer</h4><blockquote>
<p>network layer: logical communication between hosts; </p>
<p>transport layer: logical communication between processes. Actions: change app layer msg into segment which will be passed to IP and segment header fields matters. Inverse process reverses.</p>
</blockquote>
<ul>
<li>Multiplexing and demultiplexing<ul>
<li>UDP: use IP address &amp; destination port number</li>
<li>TCP: use 4-tuple - source and destination IP addresses, and port numbers</li>
</ul>
</li>
</ul>
<ul>
<li>UDP(User Datagram Protocol)<ul>
<li>checksum: </li>
</ul>
</li>
</ul>
<img src="D:\blog\coriiiander\source\_posts\pictures\UDPformat.png" alt="UDPformat" style="zoom:60%;" />

<ul>
<li><p>TCP(Transmission Control Protocol)</p>
<ul>
<li><p>Reliable data transfer protocol (rdt)</p>
<ul>
<li>interfaces</li>
</ul>
<img src="D:\blog\coriiiander\source\_posts\pictures\rdtinterface.png" alt="rdtinterface" style="zoom:80%;" />

<ul>
<li>rdt1.0: reliable transfer over a reliable channel</li>
</ul>
<img src="D:\blog\coriiiander\source\_posts\pictures\rdt1.0.png" alt="rdt1.0" style="zoom:80%;" />

<ul>
<li><p>rdt2.0: channel with bit errors</p>
<p>◽ use acknowledgements (ACKs) &amp; negative acknowledgements (NAKs) ,  retransmission to recover from errors.</p>
<blockquote>
<p>stop and wait: sender sends one packet,  then waits for receiver  response.</p>
</blockquote>
<p><img src="D:\blog\coriiiander\source\_posts\pictures\rdt2.0sender.png" alt="rdt2.0sender" style="zoom:70%;" />                  <img src="D:\blog\coriiiander\source\_posts\pictures\rdt2.0receiver.png" alt="rdt2.0receiver" style="zoom:75%;" /></p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="Chapter-4-Network-Layer-Data-Plane"><a href="#Chapter-4-Network-Layer-Data-Plane" class="headerlink" title="Chapter 4 Network Layer: Data Plane"></a>Chapter 4 Network Layer: Data Plane</h4><blockquote>
<p>Internet edge ends, Internet Edge begins.</p>
<p><strong>Data plane:</strong> local router actions moving a datagram from an input link to an output link at a router. <strong>Control plane:</strong> the network wide view of getting packets from one edge of network to another edge of network.The coordination and the management of all devices in the Internet.</p>
</blockquote>
<ul>
<li><p>network-layer functions</p>
<ul>
<li>forwarding: local, move packets from a router’s input link to appropriate router output link.Nanosecond time scale and implemented in hardware.</li>
<li>routing: network-wide, determine route taken by packets from source to destination.Second time scale and implemented in software.</li>
</ul>
</li>
<li><p>router</p>
<ul>
<li><p>architecture</p>
<img src="D:\blog\coriiiander\source\_posts\pictures\routerArchi.png" alt="routerArchi" style="zoom: 80%;" />

<ol>
<li>Input Port</li>
</ol>
<img src="D:\blog\coriiiander\source\_posts\pictures\inputPort.png" alt="inputPort" style="zoom:80%;" />

<ul>
<li><p>line termination: physical layer, bit-level reception.</p>
</li>
<li><p>link layer protocol: bits are assembled into link layer frames, like the Ethernet frames.</p>
</li>
<li><p>decentralized switching: network layer functions, match plus action.</p>
<ul>
<li><p>forwarding</p>
<p>① destination-based forwarding: forward based only on destination IP address (traditional).</p>
<p>② generalized forwarding: forward based on any set of header field values.</p>
<blockquote>
<p>Longest prefix match: using ternary content addressable memories (TCAMs). Present address to TCAM, retrieve address in one clock cycle, regardless of table size.</p>
</blockquote>
</li>
</ul>
</li>
</ul>
<ol start="2">
<li><p>Switching Fabrics</p>
<img src="D:\blog\coriiiander\source\_posts\pictures\swichingFabrics.png" alt="swichingFabrics" style="zoom: 80%;" /></li>
</ol>
<blockquote>
<p>NR &gt; R: non-blocking machine.</p>
</blockquote>
<ul>
<li><p>three major types of switching fabrics:</p>
<img src="D:\blog\coriiiander\source\_posts\pictures\3types.png" alt="3types" style="zoom:80%;" />

<p>① Switching via memory: pkt signal the CPU via an interrupt, pkt copied to system’s memory.</p>
<p>② Bus: switching speed limited by bus bandwidth.</p>
<p>③ interconnection network.</p>
</li>
</ul>
</li>
<li><p>queuing</p>
<ul>
<li><p>Input port queuing</p>
<ul>
<li>Head-of-the-Line (HOL) blocking: green pkt will experiences HOL blocking one packet time later.</li>
</ul>
<img src="D:\blog\coriiiander\source\_posts\pictures\HOL.png" alt="HOL" style="zoom:80%;" /></li>
<li><p>Output port queuing</p>
<ul>
<li><p>How much buffering?</p>
<p>① RFC 3439: RTT times(*) link capacity C.</p>
<p>② recent: with N flows, RTT*C/√N</p>
</li>
<li><p>Buffer Management</p>
<ul>
<li><p>drop: tail drop/priority.</p>
</li>
<li><p>marking: (ECN, RED)</p>
<blockquote>
<p>ECN: Explicit Congestion Notification</p>
</blockquote>
</li>
<li><p>Packet Scheduling: FCFS, priority, round robin, weighted fair queueing(gets weighted amount of service in each cycle)</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>Network Neutrality</p>
</li>
<li><p>IP</p>
<ul>
<li><p>IPv4</p>
<img src="D:\blog\coriiiander\source\_posts\pictures\ipv4.png" alt="ipv4" style="zoom:67%;" />

<ul>
<li>dotted-decimal IP address notation: 223.1.1.1 = 11011111 00000001 00000001 00000001</li>
<li>subnet mask: 223.1.1.0/24 中 /24 指示32比特中最左侧24比特定义了子网地址。</li>
</ul>
</li>
<li><p>IP addressing(allocation strategy): CIDR(Classless InterDomain Routing)</p>
</li>
<li><p>DHCP: Dynamic Host Configuration Protocol</p>
<blockquote>
<p>How does <strong>host</strong> get IP address? hard-coded by sysadmin in config file or DHCP(plug-and-play)</p>
<p>Network get subnet part of IP address from its ISP’s address space.</p>
<img src="D:\blog\coriiiander\source\_posts\pictures\ispip.png" alt="ispip" style="zoom:80%;" />
</blockquote>
<ul>
<li>DHCP server will be co-located in router, serving all subnets to which router is attached.</li>
</ul>
<img src="D:\blog\coriiiander\source\_posts\pictures\DHCP.png" alt="DHCP" style="zoom:80%;" />

<ul>
<li> <strong>src</strong>: 0.0.0.0 no IP yet; <strong>dest</strong>: 255.255.255.255 broadcast to all interfaces on the subnet; <strong>transaction ID</strong>: reply num.</li>
</ul>
<blockquote>
<p>DHCP can return more than just allocated IP address on subnet.</p>
</blockquote>
</li>
<li><p>address aggregation (route aggregation/route summarization):  使用单个网络前缀通告多个网络。</p>
</li>
<li><p>NAT(network address translation)</p>
<blockquote>
<p>Since hundreds of thousands of networks are using same block of addresses which only have meaning within the given network, we can’t use them as source or a destination addresses.</p>
</blockquote>
<img src="D:\blog\coriiiander\source\_posts\pictures\NAT.png" alt="NAT" style="zoom:67%;" />

<ul>
<li>use a NAT translation table at NAT router(include port numbers &amp; IP addresses) to know which internal host it is.</li>
</ul>
<blockquote>
<p>controversy: port nums should be used for addressing processes, not for addressing hosts. </p>
</blockquote>
</li>
<li><p>IPv6</p>
<img src="D:\blog\coriiiander\source\_posts\pictures\IPv6.png" alt="IPv6" style="zoom: 67%;" />

<ul>
<li>tunneling: IPv6 datagram carried as payload in IPv4 datagram among IPv4 routers.</li>
</ul>
</li>
</ul>
<img src="D:\blog\coriiiander\source\_posts\pictures\ipv46.png" alt="ipv46" style="zoom:67%;" /></li>
<li><p>Generalized Forwarding and SDN</p>
<ul>
<li><p>OpenFlow: a standard that pioneered the notion of the match-plus-action, as well as the SDN revolution more generally.</p>
</li>
<li><p>match: OpenFlow flow table</p>
<img src="D:\blog\coriiiander\source\_posts\pictures\openflow.png" alt="openflow" style="zoom:67%;" /></li>
<li><p>action: forwarding, dropping, modify-field.</p>
</li>
</ul>
</li>
</ul>
<h4 id="Chapter-5-Network-Layer-Control-Plane"><a href="#Chapter-5-Network-Layer-Control-Plane" class="headerlink" title="Chapter 5 Network Layer: Control Plane"></a>Chapter 5 Network Layer: Control Plane</h4><ul>
<li><p>two control-plane approaches: </p>
<ul>
<li><p>traditional per-router control: implemented in routers; forwarding table ↓</p>
<img src="D:\blog\coriiiander\source\_posts\pictures\traditional.png" alt="traditional" style="zoom:67%;" />

<blockquote>
<p>a routing algorithm runs in each and every router and the routing component in the router communicates with the routing components in other routers.</p>
</blockquote>
</li>
<li><p>software-defined networking (SDN): implemented in (remote) servers. flow table ↓</p>
<img src="D:\blog\coriiiander\source\_posts\pictures\sdn.png" alt="sdn" style="zoom:67%;" />

<ul>
<li>control agent (CA) has minimum functionality.It’s job is to communicate with the controller, and to do as the controller commands.(key distinction between two approaches)</li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li><p>Routing Algorithms</p>
<blockquote>
<p>traditional routing algorithms is the basis for OSPF  &amp; BGP.</p>
</blockquote>
<ul>
<li>The Link-State (LS) Routing Algorithm</li>
<li>The Distance-Vector (DV) Routing Algorithm</li>
</ul>
<p>【算法的坑以后再来补】</p>
</li>
<li><p>Intra-AS Routing in the Internet: OSPF - Open Shortest Path First</p>
<ul>
<li>autonomous systems (ASs): consisting of a group of routers that are under the same administrative control. Identified by autonomous system number (ASN).</li>
</ul>
<blockquote>
<p>The routing algorithm running within an AS is called an intra-autonomous system routing protocol.</p>
<p>OSPF: a publicly available(open) link-state protocol.</p>
</blockquote>
<ul>
<li>router broadcasts routing information to all other routers in the AS.</li>
</ul>
</li>
<li><p>Routing Among the ISPs: BGP - Border Gateway Protocol</p>
<blockquote>
<p>BGP let each subnet know each other’s existence and determine the best routes to the prefixes.</p>
</blockquote>
<ul>
<li><p>gateway router &amp; internal router, external BGP (eBGP) &amp; internal BGP (iBGP)</p>
</li>
<li><p>BGP attributes: AS-PATH &amp; NEXT-HOP</p>
<blockquote>
<p>a prefix along with its attributes is called a route.</p>
</blockquote>
<ul>
<li>AS-PATH contains the list of ASs through which the advertisement has passed. (AS2 AS3, AS3)</li>
<li>NEXT-HOP is the IP address of the router interface that begins the AS-PATH. (2a, 3d)</li>
</ul>
<img src="D:\blog\coriiiander\source\_posts\pictures\distribute.png" alt="distribute" style="zoom:50%;" /></li>
<li><p>Hot Potato Routing</p>
<ul>
<li>a router (eg. 1b) choose route with the least cost to the NEXT-HOP router.It tries to reduce the cost in its own AS while ignoring the outside. </li>
</ul>
</li>
<li><p>Route-Selection Algorithm</p>
<blockquote>
<p>If there are two or more routes to the same prefix…</p>
</blockquote>
<ul>
<li>local preference value attributes</li>
<li>the shortest AS-PATH(same above goes below…)</li>
<li>closest NEXT-HOP router(hot potato routing)</li>
<li>BGP identifiers</li>
</ul>
</li>
</ul>
</li>
<li><p>The SDN Control Plane</p>
<img src="D:\blog\coriiiander\source\_posts\pictures\componentsOfSDN.png" alt="componentsOfSDN" style="zoom:67%;" />

<ul>
<li><p>SDN controller </p>
<img src="D:\blog\coriiiander\source\_posts\pictures\componentOfcontroller.png" alt="componentOfcontroller" style="zoom: 80%;" />

<ul>
<li>a communication layer: communicating between the SDN controller and controlled network devices.</li>
<li>a network-wide state-management layer. </li>
<li>the interface to the network-control application layer: the northbound API allows network-control applications to read/write network state and flow tables within the state management layer. </li>
</ul>
<blockquote>
<p>controller: logically centralized but physically distributed.</p>
</blockquote>
</li>
<li><p>OpenFlow Protocol</p>
<ul>
<li>The OpenFlow protocol operates over TCP, with a default port number of 6653.</li>
<li>messages flowing from the controller to the controlled switch: <ol>
<li>configuration: set a switch’s configuration parameters.</li>
<li>modify-State: modify entries in the switch’s flow table and ports.</li>
<li>read-State: collect statistics and counter values from the switch’s flow table and ports.</li>
<li>send-Packet: send msg contains the packet to be sent in its payload.</li>
</ol>
</li>
<li>messages flowing from the SDN-controlled switch to the controller:<ol>
<li>flow-removed: informs that a flow table entry has been removed.</li>
<li>port-status: inform changes in port status.</li>
<li>packet-in.</li>
</ol>
</li>
<li></li>
</ul>
</li>
</ul>
</li>
<li><p>ICMP - The Internet Control Message Protocol</p>
</li>
</ul>
<ul>
<li><p>Network Management and SNMP</p>
<ul>
<li><p>network management framework </p>
<img src="D:\blog\coriiiander\source\_posts\pictures\componentOfnetwork.png" alt="componentOfnetwork" style="zoom:60%;" /></li>
<li><p>SNMP - Simple Network Management Protocol </p>
<ul>
<li>an application-layer protocol used to convey network-management control and information messages between a managing server and an agent executing on behalf of that managing server.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="Chapter-6-The-Link-Layer-and-LANs"><a href="#Chapter-6-The-Link-Layer-and-LANs" class="headerlink" title="Chapter 6 The Link Layer and LANs"></a>Chapter 6 The Link Layer and LANs</h4><blockquote>
<p>Refer to any device that runs a link-layer protocol as a <strong>node</strong>, communication channels that connect adjacent nodes along the communication path as <strong>links</strong>.</p>
</blockquote>
<ul>
<li><p>Where the link layer is implemented ?</p>
<ul>
<li>Link layer is implemented in a <strong>network adapter</strong> (aka a <strong>network interface card (NIC)</strong>).</li>
</ul>
<img src="D:\blog\coriiiander\source\_posts\pictures\networkAdapter.png" alt="networkAdapter" style="zoom:50%;" /></li>
<li><p>Error-Detection and -Correction</p>
</li>
</ul>
<p>【待补】</p>
<ul>
<li><p>Multiple Access Links and Protocols</p>
<ul>
<li><p>two types of network links:</p>
<ul>
<li><p>point-to-point links</p>
<ul>
<li>single sender and receiver at end of the link.</li>
<li>protocols: point-to-point protocol (PPP) and high-level data link control (HDLC).</li>
</ul>
</li>
<li><p> broadcast links</p>
</li>
<li><p>multiple sending and receiving nodes connected to the same, single, shared broadcast channel. </p>
</li>
<li><p>example technologies: Ethernet and wireless LANs.</p>
</li>
<li><p>protocol: multiple access protocols.</p>
<ol>
<li><p>channel partitioning protocols</p>
</li>
<li><p>random access protocols</p>
</li>
<li><p>taking-turns protocols</p>
</li>
</ol>
</li>
</ul>
</li>
<li><p>Channel Partitioning Protocols</p>
<ul>
<li>TDM/FDM: each node gets a dedicated transmission rate of <em>R</em>/<em>N</em> bps during each frame time. </li>
<li>CDMA (code division multiple access): assigns a different <em>code</em> to each node so that different nodes can transmit simultaneously and received correctly(anti-jamming).</li>
</ul>
</li>
<li><p>Random Access Protocols</p>
<blockquote>
<p>nodes transmit at full rate, repeatedly retransmits when collision happens.It doesn’t retransmit right away. Instead waiting a random delay. </p>
</blockquote>
<ul>
<li><p>ALOHA protocols: </p>
<ol>
<li>Slotted ALOHA</li>
<li>ALOHA</li>
</ol>
</li>
<li><p>carrier sense multiple access (CSMA) protocols:</p>
<p>Carrier Sense Multiple Access with Collision Dection (CSMA/CD)</p>
<blockquote>
<p>Ethernet is a popular and widely deployed CSMA protocol.</p>
</blockquote>
</li>
<li></li>
</ul>
</li>
<li><p>Taking-Turns Protocols</p>
<ul>
<li>polling protocol: round-robin. Eliminates collisions and empty slots</li>
</ul>
</li>
</ul>
</li>
<li><p>Switched Local Area Networks</p>
</li>
</ul>

    </div>

    
    
    

      <footer class="post-footer">

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2022/07/05/resource/" rel="prev" title="resource">
      <i class="fa fa-chevron-left"></i> resource
    </a></div>
      <div class="post-nav-item">
    <a href="/2022/10/24/CS144%20Lab%200/" rel="next" title="CS144 Lab 0">
      CS144 Lab 0 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%AE%80%E4%BB%8B"><span class="nav-number">1.</span> <span class="nav-text">简介</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Chapter-2-Appication-layer"><span class="nav-number">2.</span> <span class="nav-text">Chapter 2  Appication layer</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Chapter-3-Transport-layer"><span class="nav-number">3.</span> <span class="nav-text">Chapter 3 Transport layer</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Chapter-4-Network-Layer-Data-Plane"><span class="nav-number">4.</span> <span class="nav-text">Chapter 4 Network Layer: Data Plane</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Chapter-5-Network-Layer-Control-Plane"><span class="nav-number">5.</span> <span class="nav-text">Chapter 5 Network Layer: Control Plane</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Chapter-6-The-Link-Layer-and-LANs"><span class="nav-number">6.</span> <span class="nav-text">Chapter 6 The Link Layer and LANs</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="六月二十日香菜"
      src="/images/author.jpg">
  <p class="site-author-name" itemprop="name">六月二十日香菜</p>
  <div class="site-description" itemprop="description">凡是过往，皆为序章</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">8</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">六月二十日香菜</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
